{"id":"colorprofile-1zh","title":"Port missing TestCache profile conversion caching tests","description":"Problem: Go TestCache has 7 caching test cases verifying color caching behavior across profiles. Not ported to Crystal spec. Required: Port all 7 test cases, verify cache structure matches after fixing cache issue.","status":"closed","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:34.835044-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T21:28:19.362779-07:00","closed_at":"2026-02-22T21:28:19.362779-07:00","close_reason":"Closed"}
{"id":"colorprofile-3qd","title":"Profile cache structure does not match Go implementation","description":"Problem: Go uses nested map cache[Profile]map[color.Color]color.Color initialized only for ANSI256 and ANSI profiles. Crystal uses flat Hash(Tuple(Profile, Ansi::PaletteColor), Ansi::PaletteColor). Impact: Colors may be cached incorrectly, memory inefficiency, behavioral differences. Required: Change to nested hash, initialize only for ANSI256/ANSI, update convert method.","status":"closed","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:54:53.498728-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T21:16:54.705277-07:00","closed_at":"2026-02-22T21:16:54.705277-07:00","close_reason":"Closed"}
{"id":"colorprofile-5b5","title":"Writer handle_sgr logic differs from Go implementation","description":"Problem: Crystal handle_sgr has significant differences from Go handleSgr: fallback skip logic, MissingParam handling, color_to_sgr helper vs Style builder methods, color parsing differences. Impact: May produce incorrect SGR sequences, color downsampling may not match exactly. Required: Refactor to match Go logic, verify parameter handling, ensure exact output matches.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:14.663109-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:14.663109-07:00"}
{"id":"colorprofile-721","title":"Address all discrepancies identified in audit.md","description":"Problem: Comprehensive audit at docs/plans/audit.md identifies multiple discrepancies between Go and Crystal implementations. This meta-issue tracks completion of all fixes. See related issues for specific problems.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:44.651125-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:44.651125-07:00"}
{"id":"colorprofile-8oj","title":"Windows detection needs verification against Go implementation","description":"Problem: Crystal windows_color_profile logic appears similar to Go but needs verification: build number masking (Go may not mask high bit), ConEmuANSI/ANSICON handling exactness, return signature (Profile? vs (Profile, bool)). Impact: Windows users may get incorrect color profile detection. Required: Verify against Go windows package source, ensure exact match.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:25.02406-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:25.02406-07:00"}
{"id":"colorprofile-8qx","title":"Ascii alias should be constant not class method","description":"Problem: Go defines const Ascii = ASCII (backwards compatibility). Crystal defines def self.ascii returning ASCII. Impact: API inconsistency - Profile::Ascii vs Profile.ascii. Required: Change to constant Ascii = ASCII inside Profile enum.","status":"closed","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:54:58.173434-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T21:16:54.861217-07:00","closed_at":"2026-02-22T21:16:54.861217-07:00","close_reason":"Closed"}
{"id":"colorprofile-i32","title":"Port missing TestNewWriterPanic and TestNewWriterOsEnviron tests","description":"Problem: Go writer_test.go has TestNewWriterPanic (ensure no panic) and TestNewWriterOsEnviron (test with os.Environ()). Not ported to Crystal spec. Required: Port both test functions.","status":"closed","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:39.740674-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T21:28:19.366252-07:00","closed_at":"2026-02-22T21:28:19.366252-07:00","close_reason":"Closed"}
{"id":"colorprofile-ki5","title":"Port missing TestHexTo256 color conversion tests","description":"Problem: Go TestHexTo256 has 9 color conversion test cases from TrueColor to 256-color palette. Not ported to Crystal spec. Required: Port all 9 test cases with exact color index mappings.","status":"closed","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:30.492741-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T21:28:19.351083-07:00","closed_at":"2026-02-22T21:28:19.351083-07:00","close_reason":"Closed"}
{"id":"colorprofile-kye","title":"NewWriter signature differs (optional environ vs required)","description":"Problem: Go NewWriter(w io.Writer, environ []string) requires environ parameter. Crystal new_writer(io : IO, environ : Array(String)? = nil) makes it optional. Impact: API inconsistency, different behavior when nil. Required: Change signature to match Go, require environ parameter, update callers to pass ENV explicitly if needed.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:19.966584-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:19.966584-07:00"}
{"id":"colorprofile-nbk","title":"Terminfo implementation uses infocmp command instead of terminfo shard","description":"Problem: Go uses github.com/xo/terminfo library to query terminal capabilities. Crystal uses infocmp -L command execution. Impact: Different behavior, portability issues. Required: Use terminfo shard (already in shard.yml) or implement proper terminfo parsing.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:04.416363-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:04.416363-07:00"}
{"id":"colorprofile-spx","title":"Writer error handling mismatch (exceptions vs error returns)","description":"Problem: Go Writer.Write returns (int, error). Crystal write returns Int64 and raises exceptions. Impact: Different error handling patterns, API inconsistency. Options: 1) Keep exceptions (idiomatic Crystal), 2) Return union Int64 | Exception, 3) Add separate method, 4) Document difference. Need decision.","status":"open","priority":2,"issue_type":"task","owner":"dsisnero@gmail.com","created_at":"2026-02-22T20:55:09.642381-07:00","created_by":"Dominic Sisneros","updated_at":"2026-02-22T20:55:09.642381-07:00"}
